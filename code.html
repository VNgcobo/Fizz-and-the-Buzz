<!doctype html>
<html lang="en" class="h-100">

<head>
    <title>Fizz And The Buzz: A Coding Project By Vusumuzi Ngcobo</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/5db21ba9c6.js" crossorigin="anonymous"></script>
    <link href="/css/site.css" rel="stylesheet">
    <link href="/css/prism.css" rel="stylesheet">
    <link rel="icon" type="image/png" href="/img/favicon-32x32.png">

</head>

<body class="d-flex flex-column h-100">
    <!-- ==Nav Section== -->
    <nav class="navbar navbar-expand-md navbar-dark fixed-top">
       <div class="container-fluid">
           <a class="navbar-brand" href="#"><img src="#" class="d-inline-block align-text-top" width="30" height="24">Fizz And The Buzz</a>
           <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
               aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
               <span class="navbar-toggler-icon"></span>
           </button>
           <div class="collapse navbar-collapse" id="navbarCollapse">
               <ul class="navbar-nav me-auto mb-2 mb-md-0">
                   <li class="nav-item">
                       <a class="nav-link" href="index.html">Home</a>
                   </li>
                   <li class="nav-item">
                       <a class="nav-link" href="app.html">The App</a>
                   </li>
                   <li class="nav-item">
                       <a class="nav-link active" aria-current="page" href="code.html">The Code</a>
                   </li>
                   <li class="nav-item">
                       <a class="nav-link" target="_blank" href="https://github.com/VNgcobo/Fizz-and-the-Buzz">Git Repo</a>
                   </li>
                   <li class="nav-item">
                       <a class="nav-link" target="_blank" href="#">About</a>
                   </li>
               </ul>
           </div>
       </div>
    </nav>
    <!-- ==Main Section== -->
    <main class="flex-shrink-0">
        <div class="container py-5 px-5 mt-5">
            <h2 class="border-1 border-bottom border-dark">The Code for Fizz And The Buzz</h2>
            <div class="row row-cols-1 rol-cols-lg-2">
                <div class="col-lg-8">
                    <pre class="line-numbers">
                        <code class="language-javascript">
                            //get values from the user. We need to get the fizz amd the buzz value.
                            function getValues(){
                               //get the user values from the page
                               let fizzValue = document.getElementById("fizzValue").value;
                               let buzzValue = document.getElementById("buzzValue").value;

                               //parse for numbers
                               fizzValue = parseInt(fizzValue);
                               buzzValue = parseInt(buzzValue);

                               //check if the numbers are integers
                               if(Number.isInteger(fizzValue) && Number.isInteger(buzzValue)){
                                    //fizzBuzz is called
                                    let fbArray = fizzBuzz(fizzValue,buzzValue);
        
                                    //displayData is called and the values are written to the screen
                                    displayData(fbArray);

                                } else{
                                    alert("You must enter numbers!");
                                }
                            }

                            function fizzBuzz(fizzValue, buzzValue){
                              //initialise the returnArray
                              let returnArray = [];

                              //loop from 1 to 100
                              //inside this loop, we need to check the current in three steps:
                              for(let i = 1; i <= 100; i++){
          
                                 //check to see if divisible by both (3 and 5) if so push "FizzBuzz" into an array and not the number

                                 if(i % fizzValue == 0 && i % buzzValue == 0) {
                                     returnArray.push('FizzBuzz');
                                 }
                                 //check to see if divisible by fizz value (3) 

                                 else if(i % fizzValue == 0){

                                 //if so push "fizz" into an array and not the number
                                     returnArray.push('Fizz');
                                 }
                                 //check to see if divisible by buzz value (5)

                                 else if(i % buzzValue == 0){    

                                 //if so push "buzz" into an array and not the number
                                     returnArray.push('Buzz');
                                 }
                                 //else, then push the number into the array

                                 else{
                                     returnArray.push(i);
                                 }

                                return returnArray;
                             }

                            function displayData(fbArray) {
                               //loop over the array and create a tablerow for each item.

                               //get the tbody element from the page
                               let tableBody = document.getElementById("results");

                               //get the template row
                               let templateRow = document.getElementById("fbTemplate");

                               //clear table first
                               tableBody.innerHTML = "";

                               for (let index = 0; index < fbArray.length; index += 5) {
        
                                  let tableRow = document.importNode(templateRow.content, true);
        
                                  //grab the td's and put them in an array
                                  let rowCols = tableRow.querySelectorAll("td");
                                  rowCols[0].classList.add(fbArray[index]);
                                  rowCols[0].textContent = fbArray[index];

                                  rowCols[1].classList.add(fbArray[index+1]);
                                  rowCols[1].textContent = fbArray[index+1];

                                  rowCols[2].classList.add(fbArray[index+2]);
                                  rowCols[2].textContent = fbArray[index+2];

                                  rowCols[3].classList.add(fbArray[index+3]);
                                  rowCols[3].textContent = fbArray[index+3];

                                  rowCols[4].classList.add(fbArray[index+4]);
                                  rowCols[4].textContent = fbArray[index+4];
        
                                  tableBody.appendChild(tableRow);
                                }
                            }
                        </code>
                    </pre>
                </div>
                <div class="col-lg-4">
                    <h4>The Code Is Structured In Three Functions</h4>
                    <h5>getValues</h5>
                    <p>Controller function. First, we need to establish our variables - which can be achieved by linking the variable to it's HTML ID using DOM. Then, we need to convert the user input into an integer. 
                        We also need to check whether the user's input is valid. This is be achieved using an if/else statement, namely: 
                        if user input is an integer, then the app will continue to run, else, then an alert will pop up on the screen </p>
                    <h5>fizzBuzz</h5>
                    <p>Logic Function. The values generated here need to be stored in an array (returnArray). 
                        Then for each of the values, we need to establish if they are divisible by (both 3 and 5);  by 3 only; or 5 only. 
                        This is achieved using a for loop for each index (1 to 100), and validating it's value within the loop using if/else statements. 
                        If the value is satisfies the first condition, then we can replace it's value with "FizzBuzz".
                        Otherwise, if the second condition is met, then the value is replaced with "Fizz". 
                        Otherwise, if the third condition is met, then the value will be replaced by "Buzz". 
                        If none of the conditions are met, the number is pushed back into the array.
                        Finally, we use the return statement to return the values of the function.
                    </p>
                    <h5>displayData</h5>
                    <p>
                        Display Function. Here, we need to display the results to the user.
                        First, we format the table layout under a template tag with an id of "fbTemplate", so that this can be imported into the javscript. 
                        Then, we get the table body element from the html using DOM Manipulation so that its inner HTML is set to the format of the contents of the template tag.
                        To achieve this, we use DOM manipulation to get the template from the HTML.
                    </p>
                    <p>
                        Since the function will be run 100 times, we need to first clear the table by setting the table body's inner HTML to a blank string.
                        Then we have to loop over the array. We declare a new variable (tableRow), and (copies in memory then move to the table body - importNode).
                        Each time data is appended in the tableRow, we add it to the page
                    </p>
                </div>
            </div>
        </div>
    </main>
    <footer class="footer mt-auto py-3">
        <div class="container-fluid">
            <div class="row row-cols-1 row-cols-lg-3 gy-2">
                <div class="col order-last order-lg-first text-light">
                    <div><span class="text-muted">&copy;2021</span> Vusumuzi Ngcobo | vngcobo407@gmail.com</div>
                </div>
                <div class="col d-flex align-items-center justify-content-start justify-content-lg-center">
                    <img src="#" alt="VN Logo" height="24">
                </div>
                <div class="col d-flex align-items-center justify-content-start justify-content-lg-end">
                    <div class="row">
                        <div class="col social"><a href="https://www.linkedin.com/in/v-ngcobo-23614a21a/" target="_blank"><i class="fab fa-linkedin fa-2x"></i></a></div>
                        <div class="col social"><a href="https://github.com/VNgcobo" target="_blank"><i class="fab fa-github fa-2x"></i></a></div>
                        <div class="col social"><a href="https://twitter.com/VNgcobo3" target="_blank"><i class="fab fa-twitter fa-2x"></i></a></div>
                    </div>
                </div>
            </div>
            
        </div>
    </footer>
       <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
       integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
       integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous">
    </script>
    <script src="/js/prism.js"></script>
    <script>
        Prism.plugins.NormalizeWhitespace.setDefaults({
             'remove-trailing': true,
             'remove-indent': true,
             'left-trim': true,
             'right-trim': true
        })
    </script>
</body>
</html>